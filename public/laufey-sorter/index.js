var detailed = { "Ain't Christmas (with Laufey)": { "artists": "Alexander 23, Laufey", "image": "https://i.scdn.co/image/ab67616d0000b273c83f1c0508641ddf8a2ab9e3", "preview": "https://p.scdn.co/mp3-preview/e3fbeb668f268818b9c8f0ecdfa71d51d46715e5" }, "No One Knows (with Laufey)": { "artists": "Stephen Sanchez, Laufey", "image": "https://i.scdn.co/image/ab67616d0000b273199b850d4877866cf7e318d1", "preview": "https://p.scdn.co/mp3-preview/6bb96399e7176ca892e0d1957facafa1ef72e04d" }, "Dreamer": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27374c732f8aa0e0ccbb3d17d96", "preview": "https://p.scdn.co/mp3-preview/ed130cf84883116b96794ecf2bb9e29a944932a8" }, "Second Best": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27374c732f8aa0e0ccbb3d17d96", "preview": "https://p.scdn.co/mp3-preview/b2b0441b83a655aad78636118ccf4f31241d1163" }, "Haunted": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27374c732f8aa0e0ccbb3d17d96", "preview": "https://p.scdn.co/mp3-preview/e1383f4563cac1725b42af902c7384a391854d99" }, "Must Be Love": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27374c732f8aa0e0ccbb3d17d96", "preview": "https://p.scdn.co/mp3-preview/eaad83679c0f8785d4c57e15bcac8a4fff161e8d" }, "While You Were Sleeping": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27374c732f8aa0e0ccbb3d17d96", "preview": "https://p.scdn.co/mp3-preview/e18b47ccd449e4eefdb7e8803bd7d1d7b7a2a052" }, "Lovesick": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27374c732f8aa0e0ccbb3d17d96", "preview": "https://p.scdn.co/mp3-preview/7c9c27dd730c439411153e6385f3c7c2504475c9" }, "California and Me": { "artists": "Laufey, Philharmonia Orchestra", "image": "https://i.scdn.co/image/ab67616d0000b27374c732f8aa0e0ccbb3d17d96", "preview": "https://p.scdn.co/mp3-preview/55ee3caf2b78aa2ee5b3d2d8320553fb0ade128d" }, "Nocturne (Interlude)": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27374c732f8aa0e0ccbb3d17d96", "preview": "https://p.scdn.co/mp3-preview/ee038ad53dd11eb8ca312f93a67438cbf1b578a3" }, "Promise": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27374c732f8aa0e0ccbb3d17d96", "preview": "https://p.scdn.co/mp3-preview/2a9f6feb9ebe1632f2ea96572b941cbf7e67670b" }, "From The Start": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27374c732f8aa0e0ccbb3d17d96", "preview": "https://p.scdn.co/mp3-preview/3cdcd256d89b8634adc47aebbcf6db256e3b9978" }, "Misty": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27374c732f8aa0e0ccbb3d17d96", "preview": "https://p.scdn.co/mp3-preview/8b90e2dbc8ae5506f8c81f3b244afa1b9e565e81" }, "Serendipity": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27374c732f8aa0e0ccbb3d17d96", "preview": "https://p.scdn.co/mp3-preview/35e7a07ab749ac4fe4d7cbb60af99e1bda9804cf" }, "Letter To My 13 Year Old Self": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27374c732f8aa0e0ccbb3d17d96", "preview": "https://p.scdn.co/mp3-preview/7bb411e2ef8423fd112ae027f343719dbce76fc2" }, "Bewitched": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27374c732f8aa0e0ccbb3d17d96", "preview": "https://p.scdn.co/mp3-preview/799be8612bd51059cdd8392c8a1ef93185288c0b" }, "Have Yourself A Merry Little Christmas": { "artists": "Norah Jones, Laufey", "image": "https://i.scdn.co/image/ab67616d0000b273beb04128248881f711f5874d", "preview": "https://p.scdn.co/mp3-preview/fa621c4fb5c8cb6f134cac631739ed272d48fb8e" }, "Better Than Snow": { "artists": "Norah Jones, Laufey", "image": "https://i.scdn.co/image/ab67616d0000b273beb04128248881f711f5874d", "preview": "https://p.scdn.co/mp3-preview/1526993617acd623a6498ab0ba09278d83799149" }, "Fragile": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27377b9aeb46d46a39699ac4b77", "preview": "https://p.scdn.co/mp3-preview/0e922564a9ee9038a7ed85c5df15f61ab3f01bb5" }, "Beautiful Stranger": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27377b9aeb46d46a39699ac4b77", "preview": "https://p.scdn.co/mp3-preview/59685ff1bba7c1122c9892c317b6ebde70376a2a" }, "Valentine": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27377b9aeb46d46a39699ac4b77", "preview": "https://p.scdn.co/mp3-preview/3c123a80ca663a4ba834ba4e0e383b16b7cda158" }, "Above The Chinese Restaurant": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27377b9aeb46d46a39699ac4b77", "preview": "https://p.scdn.co/mp3-preview/c223ae15a1468059c20c1308da0cb1c8d8e43d5a" }, "Dear Soulmate": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27377b9aeb46d46a39699ac4b77", "preview": "https://p.scdn.co/mp3-preview/da2db21bea03a080dc063a87c4e3067ab5a622d1" }, "What Love Will Do to You": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27377b9aeb46d46a39699ac4b77", "preview": "https://p.scdn.co/mp3-preview/27669e9d1b19db635b6b562b16a404192cb57d2d" }, "I've Never Been In Love Before": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27377b9aeb46d46a39699ac4b77", "preview": "https://p.scdn.co/mp3-preview/d69d8adf27337f484177a5d34b24956f289a5f25" }, "Just Like Chet": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27377b9aeb46d46a39699ac4b77", "preview": "https://p.scdn.co/mp3-preview/ce6c1ffd85ed7af2dd523b2f759295cfeeff18ab" }, "Everything I Know About Love": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27377b9aeb46d46a39699ac4b77", "preview": "https://p.scdn.co/mp3-preview/544bae6b024e86ff928d6ba63289b54b54728c9b" }, "Falling Behind": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27377b9aeb46d46a39699ac4b77", "preview": "https://p.scdn.co/mp3-preview/85ba231413741bc408465f23bdf1d1ea5b2c4dac" }, "Hi": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27377b9aeb46d46a39699ac4b77", "preview": "https://p.scdn.co/mp3-preview/ac8e1483283082c45111a167cd5dd615b71062f0" }, "Dance With You Tonight": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27377b9aeb46d46a39699ac4b77", "preview": "https://p.scdn.co/mp3-preview/1215172ddec31a7be888f7d02d4c681bc08801ee" }, "Night Light": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27377b9aeb46d46a39699ac4b77", "preview": "https://p.scdn.co/mp3-preview/0caf3f5e0f125a4c221d593451da63ca0cb39ac4" }, "Slow Down": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27377b9aeb46d46a39699ac4b77", "preview": "https://p.scdn.co/mp3-preview/0b335a7f210abc731ab6b885c7a14681f3cb5e1f" }, "Lucky for Me": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27377b9aeb46d46a39699ac4b77", "preview": "https://p.scdn.co/mp3-preview/7c52b5f86518ab8a744d9dcfb0f13b705e05a920" }, "Questions For The Universe": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27377b9aeb46d46a39699ac4b77", "preview": "https://p.scdn.co/mp3-preview/436cdcbef83e87266b7fdf8eb4495acadaf114d4" }, "Let You Break My Heart Again": { "artists": "Laufey, Philharmonia Orchestra", "image": "https://i.scdn.co/image/ab67616d0000b2739457bba66a2daf4456855bb7", "preview": "https://p.scdn.co/mp3-preview/fe19b8ff802a02e7388fbf596e33132ff923bd4f" }, "Love Flew Away": { "artists": "Laufey, Adam Melchor", "image": "https://i.scdn.co/image/ab67616d0000b273ae872bedc5b44f93ab50da37", "preview": "https://p.scdn.co/mp3-preview/c37ff073d97457086d88ee3eb04608aa73199dd8" }, "Fragile - Live at The Symphony": { "artists": "Laufey, Iceland Symphony Orchestra", "image": "https://i.scdn.co/image/ab67616d0000b2730c14cc34bc3be11bccbad85f", "preview": "https://p.scdn.co/mp3-preview/a888c27815bc99b0d6ceaa17c6a0433980cf03af" }, "Valentine - Live at The Symphony": { "artists": "Laufey, Iceland Symphony Orchestra", "image": "https://i.scdn.co/image/ab67616d0000b2730c14cc34bc3be11bccbad85f", "preview": "https://p.scdn.co/mp3-preview/e271bdbd0545a314125c2a2d663c88debffb9589" }, "Dear Soulmate - Live at The Symphony": { "artists": "Laufey, Iceland Symphony Orchestra", "image": "https://i.scdn.co/image/ab67616d0000b2730c14cc34bc3be11bccbad85f", "preview": "https://p.scdn.co/mp3-preview/df7335e0ad3d3136a414c8738cb9fa9502fe6936" }, "I Wish You Love - Live at The Symphony": { "artists": "Laufey, Iceland Symphony Orchestra", "image": "https://i.scdn.co/image/ab67616d0000b2730c14cc34bc3be11bccbad85f", "preview": "https://p.scdn.co/mp3-preview/8a04cb22745133d5c4a64f0493ad23632b397fbc" }, "Night Light - Live at The Symphony": { "artists": "Laufey, Iceland Symphony Orchestra", "image": "https://i.scdn.co/image/ab67616d0000b2730c14cc34bc3be11bccbad85f", "preview": "https://p.scdn.co/mp3-preview/8b81d8eab8b2f8a127261b2d4480c76838ce077e" }, "Ég Veit Þú Kemur - Live at The Symphony": { "artists": "Laufey, Iceland Symphony Orchestra", "image": "https://i.scdn.co/image/ab67616d0000b2730c14cc34bc3be11bccbad85f", "preview": "https://p.scdn.co/mp3-preview/05daf778d0967b49ddda1d9faa8d430a7d81917d" }, "Falling Behind - Live at The Symphony": { "artists": "Laufey, Iceland Symphony Orchestra", "image": "https://i.scdn.co/image/ab67616d0000b2730c14cc34bc3be11bccbad85f", "preview": "https://p.scdn.co/mp3-preview/7250fc4c4f3d1272db5b0baf56ef285c26283aff" }, "Best Friend - Live at The Symphony": { "artists": "Laufey, Iceland Symphony Orchestra", "image": "https://i.scdn.co/image/ab67616d0000b2730c14cc34bc3be11bccbad85f", "preview": "https://p.scdn.co/mp3-preview/aeffae2500b5114c0b5a9b6c205be05c5b56a898" }, "Like the Movies - Live at The Symphony": { "artists": "Laufey, Iceland Symphony Orchestra", "image": "https://i.scdn.co/image/ab67616d0000b2730c14cc34bc3be11bccbad85f", "preview": "https://p.scdn.co/mp3-preview/39c0f4e73f9071cab5ab59b2f3b3f1bf5ee49937" }, "The Nearness of You - Live at The Symphony": { "artists": "Laufey, Iceland Symphony Orchestra", "image": "https://i.scdn.co/image/ab67616d0000b2730c14cc34bc3be11bccbad85f", "preview": "https://p.scdn.co/mp3-preview/e67fd09eb289ac95cd54768a52c94c685803a5a7" }, "Let You Break My Heart Again - Live at The Symphony": { "artists": "Laufey, Iceland Symphony Orchestra", "image": "https://i.scdn.co/image/ab67616d0000b2730c14cc34bc3be11bccbad85f", "preview": "https://p.scdn.co/mp3-preview/7f9155cf6979cf3a5a7475887511897e2b9851a6" }, "What Love Will Do to You - Live at The Symphony": { "artists": "Laufey, Iceland Symphony Orchestra", "image": "https://i.scdn.co/image/ab67616d0000b2730c14cc34bc3be11bccbad85f", "preview": "https://p.scdn.co/mp3-preview/5e15c44de49171bf0885c525a4d38ca51ff623b2" }, "Beautiful Stranger - Live at The Symphony": { "artists": "Laufey, Iceland Symphony Orchestra", "image": "https://i.scdn.co/image/ab67616d0000b2730c14cc34bc3be11bccbad85f", "preview": "https://p.scdn.co/mp3-preview/7b85d3a28d76996b30a3869c28ba890fb5790f8c" }, "Everytime We Say Goodbye - Live at The Symphony": { "artists": "Laufey, Iceland Symphony Orchestra", "image": "https://i.scdn.co/image/ab67616d0000b2730c14cc34bc3be11bccbad85f", "preview": "https://p.scdn.co/mp3-preview/a321dc5f78fbc0a9fc72770c39737ef41ec6dcf1" }, "A Night To Remember": { "artists": "beabadoobee, Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27303ea1900840b8804f779f7b3", "preview": "https://p.scdn.co/mp3-preview/f7dded9133986f60be59828c9b9603d728b7193d" }, "This Is How It Feels (with Laufey)": { "artists": "d4vd, Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27364fa1bda999f4fbd2b7c4bb7", "preview": "https://p.scdn.co/mp3-preview/f7c3f994fc721686803c1c2cf03679b349ff191c" }, "Valentine - Live": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b2730355ec718cdd12960cb8eac0", "preview": "https://p.scdn.co/mp3-preview/0ab0f9b36bbbed2cc1ab35499e581618cc80fca0" }, "Falling Behind - Live": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b2730355ec718cdd12960cb8eac0", "preview": "https://p.scdn.co/mp3-preview/cfddd126bbd584501edfd608b1579d5a1699fa15" }, "Dear Soulmate - Live": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b2730355ec718cdd12960cb8eac0", "preview": "https://p.scdn.co/mp3-preview/242970c67f859a9b74b0ab90eacd939b04f331b3" }, "Fragile - Live": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b2730355ec718cdd12960cb8eac0", "preview": "https://p.scdn.co/mp3-preview/63618471da37df676ceeab2417c39183e49e4eff" }, "Let You Break My Heart Again - Live": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b2730355ec718cdd12960cb8eac0", "preview": "https://p.scdn.co/mp3-preview/ef3458f364a10c54f708612662912244dc5e1bbc" }, "Everything I Know About Love - Live": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b2730355ec718cdd12960cb8eac0", "preview": "https://p.scdn.co/mp3-preview/c36ce6a8ee3427044e4cb4026bfa4f25971b88a9" }, "Winter Wonderland - Spotify Singles Holiday": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b273d16831527ee5c1edd9327b78", "preview": "https://p.scdn.co/mp3-preview/343104830e216b1190eb6f3940d8dbb9e3c1f7fa" }, "Street by Street": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b273afe473a4a47a4e69ab174069", "preview": "https://p.scdn.co/mp3-preview/8c15186b9eea36355f7efbd53a3b8c6fe8aa8a7a" }, "Magnolia": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b273afe473a4a47a4e69ab174069", "preview": "https://p.scdn.co/mp3-preview/c13cf5b5d364fc4ddd3f9ffa559db0caeecb89bd" }, "Like the Movies": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b273afe473a4a47a4e69ab174069", "preview": "https://p.scdn.co/mp3-preview/e7479097c28505ba6274c8d7488481c920b512bc" }, "I Wish You Love": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b273afe473a4a47a4e69ab174069", "preview": "https://p.scdn.co/mp3-preview/2d06e9810b8d9570f5fcb396c40adcb95c11082d" }, "James": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b273afe473a4a47a4e69ab174069", "preview": "https://p.scdn.co/mp3-preview/a17a9f24920d5fa9b6ae046aeadd9ceeea80b416" }, "Someone New": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b273afe473a4a47a4e69ab174069", "preview": "https://p.scdn.co/mp3-preview/ac5276b00bd1304c9c5acf76ba76e6feeeb1b463" }, "Best Friend": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b273afe473a4a47a4e69ab174069", "preview": "https://p.scdn.co/mp3-preview/2407acc096a18d05adb5695dfc1a959acc26df17" }, "Christmas Dreaming": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27387a50118ad71b0df8fa51d16", "preview": "https://p.scdn.co/mp3-preview/616c464ea81872da3466e4e3e28ece17271d4e6a" }, "The Christmas Waltz": { "artists": "Laufey", "image": "https://i.scdn.co/image/ab67616d0000b27387a50118ad71b0df8fa51d16", "preview": "https://p.scdn.co/mp3-preview/50fed41a16cd663a55163ca2127b73533093c3fe" }, "Love to Keep Me Warm": { "artists": "Laufey, dodie", "image": "https://i.scdn.co/image/ab67616d0000b27387a50118ad71b0df8fa51d16", "preview": "https://p.scdn.co/mp3-preview/4fbf15e8e6423b760051f759fea363770314361b" } }
var namMember = ["Ain't Christmas (with Laufey)", 'No One Knows (with Laufey)', 'Dreamer', 'Second Best', 'Haunted', 'Must Be Love', 'While You Were Sleeping', 'Lovesick', 'California and Me', 'Nocturne (Interlude)', 'Promise', 'From The Start', 'Misty', 'Serendipity', 'Letter To My 13 Year Old Self', 'Bewitched', 'Have Yourself A Merry Little Christmas', 'Better Than Snow', 'Fragile', 'Beautiful Stranger', 'Valentine', 'Above The Chinese Restaurant', 'Dear Soulmate', 'What Love Will Do to You', "I've Never Been In Love Before", 'Just Like Chet', 'Everything I Know About Love', 'Falling Behind', 'Hi', 'Dance With You Tonight', 'Night Light', 'Slow Down', 'Lucky for Me', 'Questions For The Universe', 'Let You Break My Heart Again', 'Love Flew Away', 'Fragile - Live at The Symphony', 'Valentine - Live at The Symphony', 'Dear Soulmate - Live at The Symphony', 'I Wish You Love - Live at The Symphony', 'Night Light - Live at The Symphony', 'Ég Veit Þú Kemur - Live at The Symphony', 'Falling Behind - Live at The Symphony', 'Best Friend - Live at The Symphony', 'Like the Movies - Live at The Symphony', 'The Nearness of You - Live at The Symphony', 'Let You Break My Heart Again - Live at The Symphony', 'What Love Will Do to You - Live at The Symphony', 'Beautiful Stranger - Live at The Symphony', 'Everytime We Say Goodbye - Live at The Symphony', 'A Night To Remember', 'This Is How It Feels (with Laufey)', 'Valentine - Live', 'Falling Behind - Live', 'Dear Soulmate - Live', 'Fragile - Live', 'Let You Break My Heart Again - Live', 'Everything I Know About Love - Live', 'Winter Wonderland - Spotify Singles Holiday', 'Street by Street', 'Magnolia', 'Like the Movies', 'I Wish You Love', 'James', 'Someone New', 'Best Friend', 'Christmas Dreaming', 'The Christmas Waltz', 'Love to Keep Me Warm'];
var lstMember = [];
var parent = [];
var equal = [];
var rec = [];
let currentLeft;
let currentRight;
let currentPreview;
var cmp1, cmp2;
var head1, head2;
var nrec;
var numQuestion;
var totalSize;
var finishSize;
var finishFlag;
function shuffle(array) {
    let currentIndex = array.length, randomIndex;
    while (currentIndex > 0) {
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex--;
        [array[currentIndex], array[randomIndex]] = [
            array[randomIndex], array[currentIndex]];
    };
    return array;
};
function stopPreview() {
    currentPreview.pause();
    document.getElementById("leftPreview").innerHTML = "play preview"
    document.getElementById("rightPreview").innerHTML = "play preview"
    currentPreview = undefined;
};
function Preview(side) {
    let url;
    if (currentPreview) stopPreview();
    if (side == "left") {
        url = detailed[currentLeft].preview;
        document.getElementById("leftPreview").innerHTML = "pause preview"
    } else {
        url = detailed[currentRight].preview;
        document.getElementById("rightPreview").innerHTML = "pause preview"
    };
    currentPreview = new Audio(url);
    currentPreview.play();
    currentPreview.addEventListener("ended", () => {
        stopPreview();
    });
};
function initList() {
    var n = 0;
    var mid;
    var i;
    lstMember[n] = [];
    for (i = 0; i < namMember.length; i++) {
        lstMember[n][i] = i;
    }
    parent[n] = -1;
    totalSize = 0;
    n++;
    for (i = 0; i < lstMember.length; i++) {
        if (lstMember[i].length >= 2) {
            mid = Math.ceil(lstMember[i].length / 2);
            lstMember[n] = [];
            lstMember[n] = lstMember[i].slice(0, mid);
            totalSize += lstMember[n].length;
            parent[n] = i;
            n++;
            lstMember[n] = [];
            lstMember[n] = lstMember[i].slice(mid, lstMember[i].length);
            totalSize += lstMember[n].length;
            parent[n] = i;
            n++;
        }
    }
    for (i = 0; i < namMember.length; i++) {
        rec[i] = 0;
    }
    nrec = 0;
    for (i = 0; i <= namMember.length; i++) {
        equal[i] = -1;
    }
    cmp1 = lstMember.length - 2;
    cmp2 = lstMember.length - 1;
    head1 = 0;
    head2 = 0;
    numQuestion = 1;
    finishSize = 0;
    finishFlag = 0;
}
function sortList(flag) {
    if (currentPreview) stopPreview();
    var i;
    var str;
    if (flag < 0) {
        rec[nrec] = lstMember[cmp1][head1];
        head1++;
        nrec++;
        finishSize++;
        while (equal[rec[nrec - 1]] != -1) {
            rec[nrec] = lstMember[cmp1][head1];
            head1++;
            nrec++;
            finishSize++;
        }
    } else if (flag > 0) {
        rec[nrec] = lstMember[cmp2][head2];
        head2++;
        nrec++;
        finishSize++;
        while (equal[rec[nrec - 1]] != -1) {
            rec[nrec] = lstMember[cmp2][head2];
            head2++;
            nrec++;
            finishSize++;
        }
    } else {
        rec[nrec] = lstMember[cmp1][head1];
        head1++;
        nrec++;
        finishSize++;
        while (equal[rec[nrec - 1]] != -1) {
            rec[nrec] = lstMember[cmp1][head1];
            head1++;
            nrec++;
            finishSize++;
        }
        equal[rec[nrec - 1]] = lstMember[cmp2][head2];
        rec[nrec] = lstMember[cmp2][head2];
        head2++;
        nrec++;
        finishSize++;
        while (equal[rec[nrec - 1]] != -1) {
            rec[nrec] = lstMember[cmp2][head2];
            head2++;
            nrec++;
            finishSize++;
        }
    }
    if (head1 < lstMember[cmp1].length && head2 == lstMember[cmp2].length) {
        while (head1 < lstMember[cmp1].length) {
            rec[nrec] = lstMember[cmp1][head1];
            head1++;
            nrec++;
            finishSize++;
        }
    } else if (head1 == lstMember[cmp1].length && head2 < lstMember[cmp2].length) {
        while (head2 < lstMember[cmp2].length) {
            rec[nrec] = lstMember[cmp2][head2];
            head2++;
            nrec++;
            finishSize++;
        }
    }
    if (head1 == lstMember[cmp1].length && head2 == lstMember[cmp2].length) {
        for (i = 0; i < lstMember[cmp1].length + lstMember[cmp2].length; i++) {
            lstMember[parent[cmp1]][i] = rec[i];
        }
        lstMember.pop();
        lstMember.pop();
        cmp1 = cmp1 - 2;
        cmp2 = cmp2 - 2;
        head1 = 0;
        head2 = 0;
        if (head1 == 0 && head2 == 0) {
            for (i = 0; i < namMember.length; i++) {
                rec[i] = 0;
            }
            nrec = 0;
        }
    }
    if (cmp1 < 0) {
        str = "Battle #" + (numQuestion - 1) + "<br>" + Math.floor((finishSize * 100) / totalSize) + "% sorted.";
        document.getElementById("battleNumber").innerHTML = str;
        showResult();
        finishFlag = 1;
    } else {
        showImage();
    }
}
function showResult() {
    var ranking = 1;
    var sameRank = 1;
    var str = "";
    var i;
    str += '<table style="width:200px; font-size:18px; line-height:120%; margin-left:auto; margin-right:auto; border:1px solid #000; border-collapse:collapse" align="center">';
    str += '<tr><td style="color:#ffffff; background-color:#000; text-align:center;">Rank<\/td><td style="color:#ffffff; background-color:#000; text-align:center;">Song<\/td><\/tr>';
    for (i = 0; i < namMember.length; i++) {
        str += '<tr><td style="border:1px solid #000; text-align:center; padding-right:5px;">' + ranking + '<\/td><td style="border:1px solid #000; padding-left:5px;">' + namMember[lstMember[0][i]] + "<\/td><\/tr>";
        if (i < namMember.length - 1) {
            if (equal[lstMember[0][i]] == lstMember[0][i + 1]) {
                sameRank++;
            } else {
                ranking += sameRank;
                sameRank = 1;
            }
        }
    }
    str += "<\/table>";
    document.getElementById("result").innerHTML = str;
    document.getElementById('battle').style = 'display: none;'
    document.getElementById("result").style = 'text-align: center;';
}
function showImage() {
    var str0 = "Battle #" + numQuestion + `<br>${Math.floor((finishSize * 100) / totalSize)}% sorted`;
    var str1 = toNameFace(lstMember[cmp1][head1]).toString();
    var str2 = toNameFace(lstMember[cmp2][head2]).toString();
    currentLeft = str1;
    currentRight = str2;
    document.getElementById("battleNumber").innerHTML = str0;
    document.getElementById("leftField").innerHTML = `${str1}<br><span style="font-size: small;">${detailed[str1].artists}</span>`;
    document.getElementById("leftField").style = `background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${detailed[str1].image}); background-size: contain; background-repeat: no-repeat; background-position: center;`;
    document.getElementById("rightField").innerHTML = `${str2}<br><span style="font-size: small;">${detailed[str2].artists}</span>`;
    document.getElementById("rightField").style = `background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${detailed[str2].image}); background-size: contain; background-repeat: no-repeat; background-position: center;`;
    numQuestion++;
}
function toNameFace(n) {
    var str = namMember[n];
    return str;
}